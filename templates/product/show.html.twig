{% extends 'base.html.twig' %}

{% block title %}Product{% endblock %}

{% block body %}
    <h1 id="product" data-product_id="{{ product.id }}">Product</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ product.id }}</td>
            </tr>
            <tr>
                <th>Name</th>
                <td>{{ product.name }}</td>
            </tr>
            <tr>
                <th>Description</th>
                <td>{{ product.description }}</td>
            </tr>
            <tr>
                <th>Price</th>
                <td>{{ product.price }}</td>
            </tr>
            <tr>
                <th>Quantity</th>
                <td>{{ product.quantity }}</td>
            </tr>
        </tbody>
    </table>
    <div class="well">
        <div class="row">
            <a href="#" class="btn btn-primary center-block" id="download-file">Download file</a>
            <br><br>
            <div class="progress">
                <div class="progress-bar" aria-valuenow="90" data-valuemin="0" aria-valuemax="100" style="width: 0%;">

                </div>
            </div>
            <br><br>
            <a href="#" class="btn btn-success center-block">Add to wishlist</a>
        </div>
    </div>
    {% if product.feedback.count %}
        <div class="panel panel-primary">
            <div class="panel-heading"><strong>Feedback</strong></div>
            <div class="panel-body" id="feedback_list">
                <h2>Loading feedback ...</h2>
                {#{% for item in product.feedback %}#}
                    {#<span><strong>{{ item.name }}</strong> - {{ item.email }}</span>#}
                    {#<p>{{ item.message }}</p>#}
                    {#<hr>#}
                {#{% endfor %}#}
            </div>
        </div>
    {% else %}
        No feedback on this product yet
    {% endif %}

    <panel class="panel-success">
        <div class="panel-heading"><strong>Post your feedback on {{ product.name }}</strong></div>
        <div class="panel-body">
            {{ form_start(feedback_form, {'attr': {'id': 'feedback_form'}}) }}
                {{ form(feedback_form) }}
            {{ form_end(feedback_form) }}
        </div>
    </panel>

    <a href="{{ path('product_index') }}">back to list</a>

    <a href="{{ path('product_edit', {'id': product.id}) }}">edit</a>

    {{ include('product/_delete_form.html.twig') }}
{% endblock %}